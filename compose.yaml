services:
  # Landing Page
  landing-page:
    build:
      context: ./src/landing-page
      dockerfile: Dockerfile
    networks:
      - platform
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.landing-page.rule=Host(`${DOMAIN}`)"
      - "traefik.http.routers.landing-page.entrypoints=web"
      - "traefik.http.services.landing-page.loadbalancer.server.port=80"

  # Example Web UI Vanilla
  example-web-ui-vanilla:
    build:
      context: ./src/example-web-ui-vanilla
      dockerfile: Dockerfile
    networks:
      - platform
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.ui-vanilla.rule=Host(`ui-vanilla.${DOMAIN}`)"
      - "traefik.http.routers.ui-vanilla.entrypoints=web"
      - "traefik.http.services.ui-vanilla.loadbalancer.server.port=80"

  # Example Web UI NextJS
  example-web-ui-nextjs:
    build:
      context: ./src/example-web-ui-nextjs
      dockerfile: Dockerfile
    networks:
      - platform
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.ui-nextjs.rule=Host(`ui-nextjs.${DOMAIN}`)"
      - "traefik.http.routers.ui-nextjs.entrypoints=web"
      - "traefik.http.services.ui-nextjs.loadbalancer.server.port=80"

  # Example Web API Service
  example-web-api-service:
    build:
      context: ./src/example-web-api-service
      dockerfile: Dockerfile
    networks:
      - platform
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.api-dotnet.rule=Host(`api-dotnet.${DOMAIN}`)"
      - "traefik.http.routers.api-dotnet.entrypoints=web"
      - "traefik.http.services.api-dotnet.loadbalancer.server.port=80"

networks:
  platform:
